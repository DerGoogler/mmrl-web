"use strict";(self.webpackChunkcom_dergoogler_mmrl_web=self.webpackChunkcom_dergoogler_mmrl_web||[]).push([[9941],{29941:(e,s,r)=>{r.r(s),r.d(s,{default:()=>$});var t=r(474848),i=r(727465),n=r(68463),o=r(303959),a=r(482241),c=r(172205),l=r(971543),d=r(237211),h=r(53295),u=r(719907),_=r(692659),m=r(676437),A=r(296857),g=r(993328),p=r(513272),x=r(851629),j=r(346831),b=r(30799),k=r(437071),w=r(877037),f=r(146477),E=r(369851),S=r(901775),v=r(296540);function y(e){const[s,r]=v.useState(!1),[i,n]=(0,p.t)(e.targetSetting);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.A,{disabled:e.disabled,onClick:()=>{r(!0)},children:(0,t.jsx)(a.A,{primary:e.title,secondary:i.name})}),(0,t.jsx)(C,{id:e.id,title:e.title,keepMounted:!0,open:s,contentMap:e.contentMap,onClose:e=>{r(!1),e.name&&e.value&&n(e)},value:i})]})}function C(e){const{onClose:s,value:r,open:i,...n}=e,[o,a]=v.useState(r),c=v.useRef(null);v.useEffect((()=>{i||a(r)}),[r,i]);return(0,t.jsxs)(w.A,{sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435}},maxWidth:"xs",TransitionProps:{onEntering:()=>{null!=c.current&&c.current.focus()}},open:i,children:[(0,t.jsx)(j.A,{children:e.title}),(0,t.jsx)(b.A,{dividers:!0,children:(0,t.jsx)(f.A,{ref:c,"aria-label":"ringtone",name:"ringtone",value:JSON.stringify(o),onChange:e=>{a(JSON.parse(e.target.value))},children:e.contentMap.map((e=>(0,t.jsx)(S.A,{value:JSON.stringify({name:e.name,value:e.value}),control:(0,t.jsx)(E.A,{checked:e.value===o.value}),label:e.name},e.value)))})}),(0,t.jsxs)(k.A,{children:[(0,t.jsx)(x.A,{autoFocus:!0,onClick:()=>{s(null)},children:"Cancel"}),(0,t.jsx)(x.A,{onClick:()=>{s(o)},children:"Ok"})]})]})}var O=r(213803),R=r(269104),I=r(83864),M=r(369907),N=r(125908),D=r(276940),U=r(838206),P=r(218857);const $=function(){const{context:e}=(0,g.v5)(),{_modFS:s}=(0,U.vQ)(),{strings:r}=(0,A.k)(),x=(0,D.a)(),{setRepos:j}=(0,I.V6)(),{theme:b}=(0,R.D)(),[k,w]=(0,p.t)("swipeable_tabs"),[f,E]=(0,p.t)("link_protection"),[S,v]=(0,p.t)("_low_quality_module"),[C,$]=(0,p.t)("term_scroll_bottom"),[T,V]=(0,p.t)("print_terminal_error"),[L,F]=(0,p.t)("terminal_word_wrap"),[B,J]=(0,p.t)("terminal_numberic_lines"),[W,q]=(0,p.t)("eruda_console_enabled"),K=(0,P.q)();return(0,t.jsx)(m.Y,{renderToolbar:()=>(0,t.jsxs)(u.M,{modifier:"noshadow",children:[(0,t.jsx)(u.M.Left,{children:(0,t.jsx)(u.M.Button,{icon:_.A,onClick:e.popPage})}),(0,t.jsx)(u.M.Center,{children:r("settings")})]}),children:(0,t.jsxs)(m.Y.RelativeContent,{zeroMargin:!0,children:[(0,t.jsxs)(i.A,{subheader:(0,t.jsx)(n.A,{children:r("appearance")}),children:[(0,t.jsxs)(o.Ay,{children:[(0,t.jsx)(a.A,{primary:r("swipeable_tabs"),secondary:r("swipeable_tabs_subtitle")}),(0,t.jsx)(c.A,{edge:"end",onChange:e=>{w(e.target.checked)},checked:k})]}),(0,t.jsx)(y,{id:"language",targetSetting:"language",title:r("language"),contentMap:x})]}),(0,t.jsx)(l.A,{}),(0,t.jsx)(i.A,{subheader:(0,t.jsx)(n.A,{children:r("security")}),children:(0,t.jsxs)(o.Ay,{children:[(0,t.jsx)(a.A,{primary:r("link_protection_title"),secondary:r("link_protection_desc")}),(0,t.jsx)(c.A,{edge:"end",onChange:e=>{E(e.target.checked)},checked:f})]})}),(0,t.jsx)(l.A,{}),(0,t.jsx)(i.A,{subheader:(0,t.jsx)(n.A,{children:r("module")}),children:(0,t.jsxs)(o.Ay,{children:[(0,t.jsx)(a.A,{primary:r("low_quality_modules"),secondary:r("low_quality_modules_subtitle")}),(0,t.jsx)(c.A,{edge:"end",onChange:e=>{v(e.target.checked)},checked:S})]})}),O.os.isAndroid&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.A,{}),(0,t.jsxs)(i.A,{subheader:(0,t.jsx)(n.A,{children:r("terminal")}),children:[(0,t.jsxs)(o.Ay,{children:[(0,t.jsx)(a.A,{primary:r("scroll_to_bottom"),secondary:r("scroll_to_bottom_subtitle")}),(0,t.jsx)(c.A,{edge:"end",onChange:e=>{$(e.target.checked)},checked:C})]}),(0,t.jsxs)(o.Ay,{children:[(0,t.jsx)(a.A,{primary:r("print_errors"),secondary:r("print_errors_desc")}),(0,t.jsx)(c.A,{edge:"end",onChange:e=>{V(e.target.checked)},checked:T})]}),(0,t.jsxs)(o.Ay,{children:[(0,t.jsx)(a.A,{primary:r("word_wrap_title")}),(0,t.jsx)(c.A,{edge:"end",onChange:e=>{F(e.target.checked)},checked:L})]}),(0,t.jsxs)(o.Ay,{children:[(0,t.jsx)(a.A,{primary:r("numberic_lines_title"),secondary:r("numberic_lines_desc")}),(0,t.jsx)(c.A,{edge:"end",onChange:e=>{J(e.target.checked)},checked:B})]}),(0,t.jsx)(y,{id:"term-scroll-behavior",targetSetting:"term_scroll_behavior",title:r("scroll_behavior"),contentMap:p.b})]})]}),(0,t.jsx)(l.A,{}),(0,t.jsxs)(i.A,{subheader:(0,t.jsx)(n.A,{children:r("development")}),children:[(0,t.jsxs)(o.Ay,{children:[(0,t.jsx)(a.A,{id:"switch-list-label-eruda",primary:r("eruda_console"),secondary:r("eruda_console_subtitle")}),(0,t.jsx)(c.A,{edge:"end",onChange:e=>{q(e.target.checked)},checked:W,inputProps:{"aria-labelledby":"switch-list-label-eruda"}})]}),(0,t.jsx)(d.A,{onClick:()=>{O.os.open("https://github.com/DerGoogler/MMRL/issues",{target:"_blank",features:{color:b.palette.primary.main}})},children:(0,t.jsx)(a.A,{id:"switch-list-label-wifi",primary:"Issues",secondary:"Track our issues"})}),(0,t.jsx)(d.A,{onClick:()=>{O.os.shareText("Share via",JSON.stringify({device:{sdk:N.O.get("ro.build.version.sdk","unknown"),brand:N.O.get("ro.product.brand","unknown"),model:N.O.get("ro.product.model","unknown")},application:{user_agent:navigator.userAgent,package_name:h.P.APPLICATION_ID,version_name:h.P.VERSION_NAME,version_code:h.P.VERSION_CODE},root:{manager:M.$.getRootManager(),version_name:M.$.VERSION_NAME(),version_code:M.$.VERSION_CODE()},modconf:s,modules:K},null,4))},children:(0,t.jsx)(a.A,{primary:r("share_device_infos"),secondary:r("share_device_infos_subtilte")})})]}),(0,t.jsx)(l.A,{}),(0,t.jsxs)(i.A,{subheader:(0,t.jsx)(n.A,{children:r("storage")}),children:[(0,t.jsx)(d.A,{onClick:()=>{j([])},children:(0,t.jsx)(a.A,{primary:r("clear_repos")})})," "]}),(0,t.jsx)(l.A,{}),h.P.DEBUG&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.A,{subheader:(0,t.jsx)(n.A,{children:"Debug"}),children:(0,t.jsx)(d.A,{onClick:()=>{throw new Error("Test error thrown!")},children:(0,t.jsx)(a.A,{primary:"Throw error"})})}),(0,t.jsx)(l.A,{})]}),(0,t.jsx)(o.Ay,{children:(0,t.jsx)(a.A,{primary:(0,t.jsxs)("span",{children:[h.P.APPLICATION_ID," v",h.P.VERSION_NAME," (",h.P.VERSION_CODE,")",(0,t.jsx)("br",{}),O.os.isAndroid?`${M.$.VERSION_NAME()} (${M.$.VERSION_CODE()})`:""]})})})]})})}},218857:(e,s,r)=>{r.d(s,{q:()=>c});var t=r(213803),i=r(964483),n=r(535573),o=r(296540),a=r(838206);function c(){const{modFS:e}=(0,a.vQ)(),[s,r]=o.useState([]);return t.os.isAndroid&&o.useEffect((()=>{const s=new i.j(e("MODULES"));s.exist()&&s.list().forEach((s=>{const t=new i.j(e("PROPS",{MODID:s}));t.exist()&&r((e=>{const s=new Set(e.map((e=>e.id)));return[...e,...[{...new n.OA(t.read()).toObject(),timestamp:t.lastModified(),__mmrl__local__module__:!0}].filter((e=>!s.has(e.id)))]}))}))}),[]),s}},83864:(e,s,r)=>{r.d(s,{V6:()=>h,W6:()=>d});var t=r(474848),i=r(296540),n=r(152636),o=r(513272),a=r(213803),c=r(158749);const l=i.createContext({repos:[],setRepos:()=>{},modules:[],actions:{addRepo:e=>{},removeRepo:e=>{},setRepoEnabled:e=>{},isRepoEnabled:e=>!1}}),d=e=>{const s=(0,c.e)("RepoProvider"),[r,d]=(0,o.t)("disabled_repos"),[h,u]=(0,o.t)("repos"),[_,m]=i.useState([]),A=e=>{h.some((s=>s.base_url===e.url))?a.os.toast("This repo already exists","short"):h.length<=4?n.link.validURL(e.url)?fetch(`${"/"!=e.url.slice(-1)?e.url+"/":e.url}json/config.json`).then((s=>{if(200==s.status)return s.json();e.error&&e.error(Error("Cannot find given repo link or your link isn't valid"))})).then((s=>{u((e=>[...e,s]),e.callback)})).catch((r=>e.callback?e.callback(r):s.e(r))):a.os.toast("The given link isn't valid","short"):a.os.toast("You can't add more than 5 repos","short")},g=e=>{u((s=>s=s.filter((s=>s.base_url!=e.id))),e.callback)},p=e=>{d((s=>s.some((s=>s===e.id))?s.filter((s=>s!==e.id)):[...s,e.id]),e.callback)},x=i.useCallback((e=>!r.includes(e)),[r]);i.useEffect((()=>{m([]);(async()=>{const e=new Map;for(const t of h)if(!r.includes(t.base_url))try{const s=await fetch(`${"/"!==t.base_url.slice(-1)?t.base_url+"/":t.base_url}json/modules.json`);if(!s.ok)throw new Error(s.statusText);(await s.json()).modules.forEach((s=>{if(e.has(s.id)){const r=e.get(s.id);r.__mmrl_repo_source.includes(t.name)||r.__mmrl_repo_source.push(t.name)}else e.set(s.id,{...s,__mmrl_repo_source:[t.name]})}))}catch(e){s.e(e.message)}m(Array.from(e.values()))})()}),[r,h]);const j=i.useMemo((()=>({repos:h,setRepos:u,modules:_,actions:{addRepo:A,removeRepo:g,setRepoEnabled:p,isRepoEnabled:x}})),[h,_]);return(0,t.jsx)(l.Provider,{value:j,children:e.children})},h=()=>i.useContext(l)},53295:(e,s,r)=>{r.d(s,{P:()=>o,h:()=>n});var t=r(508330),i=r(643722);class n extends i.w{constructor(){super(window.__buildconfig__)}get BUILD_DATE(){return this.isAndroid?this.interface.BUILD_DATE():1726706857835}get VERSION_NAME(){return this.isAndroid?this.interface.VERSION_NAME():t.$W.h$}get VERSION_CODE(){return this.isAndroid?this.interface.VERSION_CODE():t.$W.br}get APPLICATION_ID(){return this.isAndroid?this.interface.APPLICATION_ID():t.UU}get DEBUG(){return!!this.isAndroid&&this.interface.DEBUG()}get BUILD_TYPE(){return this.isAndroid?this.interface.BUILD_TYPE():"production"}}const o=new n},125908:(e,s,r)=>{r.d(s,{O:()=>o});var t=r(643722),i=r(369907);class n extends t.w{constructor(){super(null)}get(e,s){return this.isAndroid?i.$.cmd(`getprop "${e}" "${s}"`).result():window.localStorage.getItem(e)||s}set(e,s){if(!this.isAndroid)return window.localStorage.setItem(e,s);i.$.cmd(`setprop "${e}" "${s}"`).exec()}}const o=new n},369907:(e,s,r)=>{r.d(s,{$:()=>n});var t=r(643722),i=r(964483);class n extends t.w{static M_INS_SUCCESS=0;static M_INS_FAILURE=1;static M_DWL_FAILURE=2;static FILE_CRA_ERRO=3;static TERM_INTR_ERR=500;_command;_shell;constructor(e){super(window.__shell__),Array.isArray(e)?this._command=e:this._command=[e],this.isAndroid&&(this._shell=this.interface.v2.bind(this.interface)(JSON.stringify(this._command)))}exec(){this.isAndroid&&this._shell.exec()}result(){return this.isAndroid?this._shell.result():""}isSuccess(){return!!this.isAndroid&&this._shell.isSuccess()}getCode(){return this.isAndroid?this._shell.getCode():1}static cmd(e){return new n(e)}static isSuAvailable(){return!!this.isAndroid&&window.__shell__.isSuAvailable()}static VERSION_CODE(){return this.isAndroid?parseInt(this.cmd("su -V").result()):0}static VERSION_NAME(){return this.isAndroid?this.cmd("su -v").result():"0:SU"}static getRootManager(){const e=[[this.isMagiskSU(),"Magisk"],[this.isKernelSU(),"KernelSU"],[this.isAPatchSU(),"APatchSU"]];for(const[s,r]of e)if(s)return r;return"Unknown"}static _mountDetect(e){const s=new i.j("/proc/self/mounts");return!!s.exist()&&-1!==s.read().search(e)}static isKernelSU(){return this._mountDetect(/\b(KSU|KernelSU)\b/i)}static isMagiskSU(){return this._mountDetect(/\b(magisk|core\/mirror|core\/img)\b/i)}static isAPatchSU(){return this._mountDetect(/\b(APD|APatch)\b/i)}static pw_uid(){return this.isAndroid?this.cmd("id -u").result():"Unknown"}static pw_gid(){return this.isAndroid?this.cmd("id -g").result():"Unknown"}static pw_name(){return this.isAndroid?this.cmd("id -un").result():"Unknown"}}},508330:e=>{e.exports=JSON.parse('{"UU":"com.dergoogler.mmrl.web","$W":{"h$":"3.24.33","br":32433,"n5":[["mmrl","i"],["localhost","i"],["mmrl.dergoogler.com","i"],["dergoogler.com","i"],["dergoogler.github.io","i"],["gr.dergoogler.com","i"],["googlers-repo.github.io","i"],["(localhost|\\\\b(?:(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)\\\\.){3}(?:25[0-5]|2[0-4]\\\\d|[01]?\\\\d\\\\d?)(?::\\\\d{0,4})?\\\\b)","g"]]}}')}}]);
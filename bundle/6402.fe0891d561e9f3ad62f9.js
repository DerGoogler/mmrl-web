"use strict";(self.webpackChunkcom_dergoogler_mmrl_web=self.webpackChunkcom_dergoogler_mmrl_web||[]).push([[6402],{16402:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var o=s(474848),n=s(233551),r=s(844659),i=s(301043),a=s(727465),c=s(68463),l=s(482241),d=s(130995),h=s(714992),u=s(971543),m=s(106399),x=s(971783),p=s(719907),g=s(676437),f=s(993328),A=s(838206),y=s(369907),S=s(800232),b=s(296540),_=s(138206),M=s(296857),v=s(507548),j=s.n(v);const k=function(){const{context:e}=(0,f.v5)(),{strings:t}=(0,M.k)(),{_modFS:s,setModFS:v}=(0,A.vQ)(),k=b.useMemo((()=>[{sectionText:"Installer",items:[{text:"Magisk Install Script",disabled:!y.$.isMagiskSU(),logoText:"assets/MagiskSULogo.png",confKey:"MSUINI"},{text:"KernelSU Install Script",disabled:!y.$.isKernelSU(),logoText:"assets/KernelSULogo.png",confKey:"KSUINI"},{text:"APatch Install Script",disabled:!y.$.isAPatchSU(),logoText:"assets/APatchSULogo.png",confKey:"ASUINI"}]},{sectionText:"Default paths",items:[{text:"Base path",confKey:"ADB"},{text:"MMRL path",confKey:"MMRLFOL"},{text:"Modules path",confKey:"MODULES"},{text:"Module work directory",confKey:"MODULECWD"},{text:"Module properties path",confKey:"PROPS"},{text:"Module system properties path",confKey:"SYSTEM"},{text:"Module SEPolicy rules path",confKey:"SEPOLICY"}]},{sectionText:"Service paths",items:[{text:"Late service path",confKey:"LATESERVICE"},{text:"Post service path",confKey:"POSTSERVICE"},{text:"Post mount service path",disabled:!(y.$.isKernelSU()||y.$.isAPatchSU()),logoText:["assets/KernelSULogo.png","assets/APatchSULogo.png"],confKey:"POSTMOUNT"},{text:"Boot complete service path",disabled:!(y.$.isKernelSU()||y.$.isAPatchSU()),logoText:["assets/KernelSULogo.png","assets/APatchSULogo.png"],confKey:"BOOTCOMP"}]},{sectionText:"Status paths",items:[{text:"Skip mount path",confKey:"SKIPMOUNT"},{text:"Disable path",confKey:"DISABLE"},{text:"Remove path",confKey:"REMOVE"},{text:"Update path",confKey:"UPDATE"}]},{sectionText:"ModConf",items:[{text:"Config working directory",confKey:"CONFCWD"},{text:"Config index file",confKey:"CONFINDEX"},{text:"ModConf Playground Root",dialogDesc:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(n.A,{children:["Check the"," ",(0,o.jsx)(_.M,{href:"https://github.com/DerGoogler/MMRL/tree/master/docs",noIcon:!0,children:"ModConf documentations"})," ","for more informations!"]})}),confKey:"MODCONF_PLAYGROUND"},{text:"ModConf Playground Module ID",confKey:"MODCONF_PLAYGROUND_MODID"}]},{sectionText:"ModConf Standalone",items:[{text:"Standalone root directory",confKey:"MCALONE"},{text:"Standalone working directory",confKey:"MCALONECWD"},{text:"Stadnalone meta file",confKey:"MCALONEMETA"}]}]),[]),[w,C]=b.useState("");return(0,o.jsx)(g.Y,{renderToolbar:()=>(0,o.jsxs)(p.M,{modifier:"noshadow",children:[(0,o.jsx)(p.M.Left,{children:(0,o.jsx)(p.M.BackButton,{onClick:e.popPage})}),(0,o.jsx)(p.M.Center,{children:t("modfs")})]}),children:(0,o.jsxs)(g.Y.RelativeContent,{zeroMargin:!0,children:[(0,o.jsx)(r.A,{sx:{m:{xs:1,md:1},whiteSpace:"normal"},severity:"error",children:"I am not responsible for anything that may happen to your phone by changing these informations. You do it at your own risk and take the responsibility upon yourself and you are not to blame us or MMRL and its respected developers"}),(0,o.jsx)(i.A,{label:"Search",variant:"outlined",sx:{m:1},onChange:e=>C(e.target.value)}),(0,o.jsx)(j(),{list:k,renderItem:e=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.A,{subheader:(0,o.jsx)(c.A,{children:e.sectionText}),children:(0,o.jsx)(j(),{list:e.items,search:{by:["text","confKey","dialogDesc"],onEveryWord:!0,caseInsensitive:!0,term:w},renderItem:e=>(0,o.jsx)(S.b,{inputLabel:"Path",type:"text",title:e.text,disabled:e.disabled,description:e.dialogDesc,initialValue:s[e.confKey],onSuccess:t=>{t&&v(e.confKey,t)},multiline:e.multiline,maxRows:e.maxRows,children:(0,o.jsx)(l.A,{primary:(0,o.jsxs)(d.A,{direction:"column",justifyContent:"center",alignItems:"flex-start",spacing:0,children:[(0,o.jsx)(n.A,{variant:"caption",children:`<${e.confKey}>`}),(0,o.jsxs)(n.A,{sx:{fontSize:"unset"},children:[" ",(0,o.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",justifyItems:"center",whiteSpace:"normal"},children:[e.logoText&&Array.isArray(e.logoText)?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(m.A,{sx:{mr:1},children:e.logoText.map((e=>(0,o.jsx)(x.A,{sx:{borderRadius:"unset",width:"1rem",height:"1rem"},src:e})))})}):e.logoText&&(0,o.jsx)(x.A,{sx:{borderRadius:"unset",mr:1,width:"1rem",height:"1rem"},src:e.logoText}),e.text]})]})]}),secondary:s[e.confKey]})}),renderOnScroll:!0,renderWhenEmpty:()=>(0,o.jsx)(o.Fragment,{})})}),(0,o.jsx)(u.A,{})]}),renderOnScroll:!0,renderWhenEmpty:()=>(0,o.jsx)(o.Fragment,{})})]})})}},800232:(e,t,s)=>{s.d(t,{b:()=>x});var o=s(474848),n=s(296857),r=s(851629),i=s(877037),a=s(437071),c=s(30799),l=s(737303),d=s(346831),h=s(237211),u=s(301043),m=s(296540);const x=e=>{const{strings:t}=(0,n.k)(),[s,x]=m.useState(e.initialValue),[p,g]=m.useState(!1),f=()=>{g(!1)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.A,{disabled:e.disabled,onClick:()=>{g(!0)},children:e.children}),(0,o.jsxs)(i.A,{sx:{position:"absolute"},slotProps:{backdrop:{sx:{position:"absolute"}}},container:()=>document.getElementById("ModConf-Container"),open:p,maxWidth:"md",fullWidth:!0,onClose:f,children:[(0,o.jsx)(d.A,{children:e.title}),(0,o.jsxs)(c.A,{children:[e.description&&(0,o.jsx)(l.A,{children:e.description}),(0,o.jsx)(u.A,{autoFocus:!0,fullWidth:!0,margin:"dense",type:e.type||"text",label:e.inputLabel,value:s,variant:"outlined",onChange:e=>{x(e.target.value)},InputProps:e.InputProps,helperText:e.helperText,inputProps:{maxLength:e.maxLength},multiline:e.multiline,maxRows:e.maxRows})]}),(0,o.jsxs)(a.A,{children:[(0,o.jsx)(r.A,{onClick:f,children:t("cancel")}),(0,o.jsx)(r.A,{onClick:()=>(e.onSuccess(s),f()),children:"Apply"})]})]})]})}},138206:(e,t,s)=>{s.d(t,{M:()=>E});var o=s(474848),n=s(269104),r=s(714992),i=s(130995),a=s(233551),c=s(213803),l=s(83864),d=s(296540),h=s(448043);function u(e,t){const s=Array.isArray(e)?e.join("|"):e,o=Array.isArray(t)?t.join("|"):t;return new RegExp(`(?:http(s)?:\\/\\/)?(www\\.)?(${s})\\.(${o})(\\/[\\w-]+)?`,"i")}var m=s(438322),x=s(635806),p=s(376417),g=s(826268),f=s(365865),A=s(887321),y=s(868637),S=s(834337),b=s(976800),_=s(320053),M=s(113304),v=s(296857),j=s(993328),k=s(762072),w=s(513272);const C=(0,s(620561).A)((0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1026 1024",version:"1.1",children:(0,o.jsx)("path",{d:"M0 716.373333l138.24-162.986666-138.24-162.986667L66.133333 335.36l128 151.466667 128-151.466667 66.133334 55.04-138.24 162.986667 138.24 162.986666-66.133334 54.613334-128-152.32-128 152.32-66.133333-54.613334M1026.133333 725.333333a42.666667 42.666667 0 0 1-42.666666 42.666667h-128a85.333333 85.333333 0 0 1-85.333334-85.333333v-85.333334a85.333333 85.333333 0 0 1 85.333334-85.333333h85.333333v-85.333333h-170.666667V341.333333h213.333334a42.666667 42.666667 0 0 1 42.666666 42.666667m-85.333333 213.333333h-85.333333v85.333334h85.333333v-85.333334m-256 128a42.666667 42.666667 0 0 1-42.666667 42.666667h-128a85.333333 85.333333 0 0 1-85.333333-85.333333v-256a85.333333 85.333333 0 0 1 85.333333-85.333334h85.333334V213.333333h85.333333v512m-85.333333-42.666666v-256h-85.333334v256h85.333334z"})}),"Xda");var R=s(739188);function U(e,t){3==(e=e.replace(/^\s*#|\s*$/g,"")).length&&(e=e.replace(/(.)/g,"$1$1"));var s=parseInt(e.substr(0,2),16),o=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16);return"#"+(0|256+s+(256-s)*t/100).toString(16).substr(1)+(0|256+o+(256-o)*t/100).toString(16).substr(1)+(0|256+n+(256-n)*t/100).toString(16).substr(1)}const E=e=>{const t=(0,h.SC)(),{theme:s}=(0,n.D)(),{context:E}=(0,j.v5)(),{strings:K}=(0,v.k)(),{href:I,children:P,noIcon:L,module:T,color:O=s.palette.text.link,target:D=c.os.WindowMMRLOwn}=e,{modules:N}=(0,l.V6)(),$=d.useMemo((()=>N.find((e=>e.id===T))),[T]),F=e.icon?e.icon:(V=I,u("github","com").test(V)?m.A:u(["xdaforums","forum.xda-developers"],"com").test(V)?C:u("(\\/[w-]+\\.)?t","me").test(V)?x.A:u("paypal",["me","com"]).test(V)?p.A:u(["youtube","youtu"],["com","be"]).test(V)?g.A:u(["x","twitter"],"com").test(V)?f.A:u("facebook","com").test(V)?A.A:u(["instagram","ig"],["com","me"]).test(V)?y.A:/mailto:[\w-]+/i.test(V)?S.A:/tel:\+?[\d-]+/i.test(V)?b.A:_.A);var V;const[W]=(0,w.t)("link_protection"),B=d.useMemo((()=>({display:"inline-block","& a[href]":{cursor:"pointer",color:O,textDecoration:"none",display:"flex",alignItems:"center",fontWeight:"unset",":hover":{background:`linear-gradient(${O}, ${O}) 0 100% / 0.1em 0.1em repeat-x`},"& code":{color:U(O,75.09),backgroundColor:`${O}4d`}}})),[O]),Y=d.useMemo((()=>T&&$?T:I),[I]),z=d.useCallback((()=>{c.os.openURL(Y,D,`color=${s.palette.background.default}`)}),[Y]),G=d.useCallback((e=>{e.stopPropagation(),e.preventDefault(),Y&&T&&$?E.pushPage({component:k.E.ModuleView,key:"ModuleViewActivity",extra:$}):W?t({title:K("anchor_confirm_title"),description:K("anchor_confirm_desc",{codeblock:(0,o.jsx)(R.N,{sx:{mt:1},lang:"url",children:Y})}),confirmationText:K("yes")}).then((()=>z())):z()}),[Y]);return(0,o.jsx)(r.A,{sx:B,children:(0,o.jsxs)(i.A,{component:"a",direction:"row",spacing:.5,href:Y,onClick:G,color:O,children:[(0,o.jsx)(a.A,{component:"span",sx:{fontSize:"unset",fontFamily:"unset"},color:O,children:P}),!L&&(0,o.jsx)(r.A,{component:T&&$?M.A:F,sx:{color:O,fill:O,fontSize:"unset"}})]})})}},83864:(e,t,s)=>{s.d(t,{V6:()=>h,W6:()=>d});var o=s(474848),n=s(296540),r=s(152636),i=s(513272),a=s(213803),c=s(158749);const l=n.createContext({repos:[],setRepos:()=>{},modules:[],actions:{addRepo:e=>{},removeRepo:e=>{},setRepoEnabled:e=>{},isRepoEnabled:e=>!1}}),d=e=>{const t=(0,c.e)("RepoProvider"),[s,d]=(0,i.t)("disabled_repos"),[h,u]=(0,i.t)("repos"),[m,x]=n.useState([]),p=e=>{h.some((t=>t.base_url===e.url))?a.os.toast("This repo already exists","short"):h.length<=4?r.link.validURL(e.url)?fetch(`${"/"!=e.url.slice(-1)?e.url+"/":e.url}json/config.json`).then((t=>{if(200==t.status)return t.json();e.error&&e.error(Error("Cannot find given repo link or your link isn't valid"))})).then((t=>{u((e=>[...e,t]),e.callback)})).catch((s=>e.callback?e.callback(s):t.e(s))):a.os.toast("The given link isn't valid","short"):a.os.toast("You can't add more than 5 repos","short")},g=e=>{u((t=>t=t.filter((t=>t.base_url!=e.id))),e.callback)},f=e=>{d((t=>t.some((t=>t===e.id))?t.filter((t=>t!==e.id)):[...t,e.id]),e.callback)},A=n.useCallback((e=>!s.includes(e)),[s]);n.useEffect((()=>{x([]);(async()=>{const e=new Map;for(const o of h)if(!s.includes(o.base_url))try{const t=await fetch(`${"/"!==o.base_url.slice(-1)?o.base_url+"/":o.base_url}json/modules.json`);if(!t.ok)throw new Error(t.statusText);(await t.json()).modules.forEach((t=>{if(e.has(t.id)){const s=e.get(t.id);s.__mmrl_repo_source.includes(o.name)||s.__mmrl_repo_source.push(o.name)}else e.set(t.id,{...t,__mmrl_repo_source:[o.name]})}))}catch(e){t.e(e.message)}x(Array.from(e.values()))})()}),[s,h]);const y=n.useMemo((()=>({repos:h,setRepos:u,modules:m,actions:{addRepo:p,removeRepo:g,setRepoEnabled:f,isRepoEnabled:A}})),[h,m]);return(0,o.jsx)(l.Provider,{value:y,children:e.children})},h=()=>n.useContext(l)},369907:(e,t,s)=>{s.d(t,{$:()=>r});var o=s(643722),n=s(964483);class r extends o.w{static M_INS_SUCCESS=0;static M_INS_FAILURE=1;static M_DWL_FAILURE=2;static FILE_CRA_ERRO=3;static TERM_INTR_ERR=500;_command;_shell;constructor(e){super(window.__shell__),Array.isArray(e)?this._command=e:this._command=[e],this.isAndroid&&(this._shell=this.interface.v2.bind(this.interface)(JSON.stringify(this._command)))}exec(){this.isAndroid&&this._shell.exec()}result(){return this.isAndroid?this._shell.result():""}isSuccess(){return!!this.isAndroid&&this._shell.isSuccess()}getCode(){return this.isAndroid?this._shell.getCode():1}static cmd(e){return new r(e)}static isSuAvailable(){return!!this.isAndroid&&window.__shell__.isSuAvailable()}static VERSION_CODE(){return this.isAndroid?parseInt(this.cmd("su -V").result()):0}static VERSION_NAME(){return this.isAndroid?this.cmd("su -v").result():"0:SU"}static getRootManager(){const e=[[this.isMagiskSU(),"Magisk"],[this.isKernelSU(),"KernelSU"],[this.isAPatchSU(),"APatchSU"]];for(const[t,s]of e)if(t)return s;return"Unknown"}static _mountDetect(e){const t=new n.j("/proc/self/mounts");return!!t.exist()&&-1!==t.read().search(e)}static isKernelSU(){return this._mountDetect(/\b(KSU|KernelSU)\b/i)}static isMagiskSU(){return this._mountDetect(/\b(magisk|core\/mirror|core\/img)\b/i)}static isAPatchSU(){return this._mountDetect(/\b(APD|APatch)\b/i)}static pw_uid(){return this.isAndroid?this.cmd("id -u").result():"Unknown"}static pw_gid(){return this.isAndroid?this.cmd("id -g").result():"Unknown"}static pw_name(){return this.isAndroid?this.cmd("id -un").result():"Unknown"}}}}]);